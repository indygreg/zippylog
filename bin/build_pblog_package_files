#!/usr/bin/python

#  Copyright 2010 Gregory Szorc
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.

# this script is meant to be used by pblog developers only.
# it generates the autogenerated protocol buffer classes for the messages
# defined by pblog itself
# it is assumed this script is executed from within a source distribution

from json import dump, load
from os.path import exists, join, dirname
from subprocess import Popen
from sys import path

base_dir = dirname(dirname(__file__))

path.insert(0, join(base_dir, 'lib', 'py'))

proto_dir = join(base_dir, 'proto', 'pblog')
lib_dir = join(base_dir, 'lib', 'py', 'pblog')
pblog_compile = join(base_dir, 'bin', 'pblog_compile')
state_file = join(lib_dir, 'state.json')

